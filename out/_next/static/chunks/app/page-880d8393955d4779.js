(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1101:function(e,t,i){Promise.resolve().then(i.bind(i,5180))},5180:function(e,t,i){"use strict";i.r(t),i.d(t,{Particle:function(){return y}});var r=i(4357),o=i(6439),n=i(1028),s=i.n(n);function a(e,t="debugger point"){if("boolean"!=typeof e&&!e)throw console.error(t),Error("Unexpected empty value.")}function c(e,t,i,r){if(e>=t)return r;let o=e/t;return i+(r-i)*(-o*o+2*o)}function l(e,t){return 1>=Math.abs(e-t)}function h(e,t,i,r){return e+t+i>0&&r>10}class u{x;y;r;c;static from(e,t=1,i=1,r){t=Math.max(1,t),i=Math.max(1,i);let o=r||h,{data:n,width:s,height:a}=e,c=[],l=0,f=0,p=0,g=0,d=0,m=0;for(let e=0;e<a;e+=t){m=e*s*4;for(let r=0;r<s;r+=t)l=n[d=m+4*r],o(l,f=n[d+1],p=n[d+2],g=n[d+3])&&c.push(u.create(r,e,i,[l,f,p,g]))}return c}static create(e,t,i=1,r=[0,0,0,1]){return new u(e,t,i,r)}static copyWithin(e,t=0,i=e.length){return e.copyWithin(t,i).map(e=>e.clone())}get nextX(){return this._nextX}get nextY(){return this._nextY}get preX(){return this._preX}get preY(){return this._preY}get arrived(){return this._nextX===this.x&&this._nextY===this.y}get color(){let[e,t,i,r]=this.c;return`rgba(${e}, ${t}, ${i}, ${r})`}_nextX;_nextY;_preX;_preY;constructor(e,t,i,r){this.x=e,this.y=t,this.r=i,this.c=r,this._nextX=this._preX=this.x,this._nextY=this._preY=this.y}clone(){return u.create(this.x,this.y,this.r)}updateNext(e,t,i=this.r,r=this.c){this._preX=this.x,this._preY=this.y,this._nextX=e,this._nextY=t,this.r=i,this.c=r}update(e=this._nextX,t=this._nextY){e=l(e,this._nextX)?this._nextX:e,t=l(t,this._nextY)?this._nextY:t,this.x=e,this.y=t}}class f{root;config;constructor(e,t){this.root=e,this.config=t}}let p=`precision mediump float;

varying vec4 v_color;

void main() {
  gl_FragColor = v_color;
}`,g=`attribute vec2 a_position;
attribute vec4 a_color;

varying vec4 v_color;

uniform vec2 u_resolution;
uniform float u_point_size;

void main() {
  vec2 clipSpace = a_position / u_resolution * 2.0 - 1.0;

  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
  gl_PointSize = u_point_size;
  v_color = a_color / vec4(255.0, 255.0, 255.0, 255.0);
}`;function d(e,t,i){let r=e.createShader(t);a(r),e.shaderSource(r,i),e.compileShader(r);let o=e.getShaderParameter(r,e.COMPILE_STATUS);if(o)return r;let n=e.getShaderInfoLog(r)||"";throw e.deleteShader(r),Error(n)}function m(e,t,i){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.vertexAttribPointer(t.location,t.readSize,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.location)}class _ extends f{root;config;gl;program;pointsBuffer;colorBuffer;constructor(e,t){super(e,t),this.root=e,this.config=t;let i=this.root.getContext("webgl");a(i,"Not found webgl context."),this.gl=i;let r=d(i,i.VERTEX_SHADER,g),o=d(i,i.FRAGMENT_SHADER,p);this.program=function(e,t,i){let r=e.createProgram();a(r),e.attachShader(r,t),e.attachShader(r,i),e.linkProgram(r);let o=e.getProgramParameter(r,e.LINK_STATUS);if(o)return r;let n=e.getProgramInfoLog(r)||"";throw e.deleteProgram(r),Error(n)}(i,r,o),a(this.program),i.useProgram(this.program);let n=i.createBuffer();a(n,"Point buffer creation failed.");let s=i.createBuffer();a(s,"Color buffer creation failed."),this.pointsBuffer=n,this.colorBuffer=s}resize(){let{program:e,gl:t}=this,i=t.getUniformLocation(e,"u_resolution");t.uniform2f(i,this.root.width,this.root.height);let r=t.getUniformLocation(e,"u_point_size");t.uniform1f(r,this.config.particleRadius||1),t.viewport(0,0,this.root.width,this.root.height)}render(e){let{program:t,gl:i}=this,r=e.length,o=Array(2*r),n=Array(4*r),s=0,a=0;e.forEach(e=>{o[s++]=e.x,o[s++]=e.y;for(let t=0;t<e.c.length;t++)n[a++]=e.c[t]});let c=new Float32Array(o),l=new Float32Array(n);m(i,{buffer:this.pointsBuffer,location:i.getAttribLocation(t,"a_position"),readSize:2},c),m(i,{buffer:this.colorBuffer,location:i.getAttribLocation(t,"a_color"),readSize:4},l),i.drawArrays(i.POINTS,0,e.length)}}class v extends f{root;config;ctx;constructor(e,t){super(e,t),this.root=e,this.config=t;let i=this.root.getContext("2d");a(i,"not found canvas 2d context"),this.ctx=i}resize(){}render(e){this.ctx.clearRect(0,0,this.root.width,this.root.height),this.config.color?this.batchDraw(e,this.config.color):this.singleDraw(e)}singleDraw(e){e.forEach(e=>{this._singleDraw(e)})}_singleDraw(e,t=!1){let{ctx:i}=this,{x:r,y:o,r:n,color:s}=e;this.updateDrawStyle(s),i.moveTo(r,o),i.beginPath(),i.arc(r,o,n,0,2*Math.PI),t?i.stroke():i.fill()}updateDrawStyle(e){let{ctx:t}=this;t.fillStyle!==e&&(t.fillStyle=e),t.strokeStyle!==e&&(t.strokeStyle=e)}batchDraw(e,t){let{ctx:i}=this;this.updateDrawStyle(t),i.beginPath(),e.forEach(e=>{this.config.particleRadius<=1?i.rect(e.x,e.y,2*e.r,2*e.r):i.roundRect(e.x,e.y,2*e.r,2*e.r,e.r)}),i.fill()}}let x={enableWebGL:!1,source:"",color:"",particleRadius:1,particleGap:1,enableContinuousEasing:!0,showMouseCircle:!0,moveProportionPerFrame:30,offsetX:0,offsetY:0};function b(e,t){let i=JSON.parse(JSON.stringify(e));return Object.assign(i,{enableWebGL:t.enableWebGL??e.enableWebGL,source:t.source??e.source,color:t.color??e.color,particleRadius:t.particleRadius??e.particleRadius,particleGap:t.particleGap??e.particleGap,enableContinuousEasing:t.enableContinuousEasing??e.enableContinuousEasing,showMouseCircle:t.showMouseCircle??e.showMouseCircle,moveProportionPerFrame:t.moveProportionPerFrame??e.moveProportionPerFrame,offsetX:t.offsetX??e.offsetX,offsetY:t.offsetY??e.offsetY,pixelFilter:t.pixelFilter??e.pixelFilter}),i}class P{renderer;canvas=document.createElement("canvas");isRendering=!1;unBindMouseEventCallback=null;lastAnimationBeginTime=0;animationTime=2e3;particles=[];mouseParticle=null;_config;constructor(e,t){e instanceof HTMLCanvasElement?this.canvas=e:e.appendChild(this.canvas);let{clientHeight:i,clientWidth:r}=e;this.canvas.width=r,this.canvas.height=i,this._config=b(x,t),this._config.enableWebGL?this.renderer=new _(this.canvas,this._config):this.renderer=new v(this.canvas,this._config),this._config.showMouseCircle?this.enableMouseListener():this.disableMouseListener()}destroy(){this.disableMouseListener()}async transitionTo(e,t,i={}){if(this._config=b(this._config,i),!this.isRendering){this.render(e);return}if(this._config.source===e)return;this._config.source=e,this.animationTime=t;let r=await this.generateParticles(e);if(!this.particles.length)throw Error("Particle generate error, please check the config.");let o=this.particles.length,n=r.length;if(o<n){let e=n-o,t=[];for(let i=0;i<e;i++)t.push(this.particles[i%o].clone());this.particles=this.particles.concat(t)}else o>n&&this.particles.splice(0,o-n);let s=this.particles.length;r.sort(()=>Math.random()>.5?1:-1);for(let e=0;e<s;e++){let t=r[e];this.particles[e].updateNext(t.x,t.y,t.r,t.c)}this.lastAnimationBeginTime=Date.now()}async render(e){if(this.renderer.resize(),e&&e!==this._config.source&&(this._config.source=e,this.particles=await this.generateParticles(this._config.source)),!this._config.source)throw Error("Render need config source first!");this.particles.length||(this.particles=await this.generateParticles(this._config.source));let[t]=function(e){let t=-1,i=()=>{e(),t=requestAnimationFrame(()=>{i()})};return[i,()=>{cancelAnimationFrame(t)}]}(()=>{let e=Date.now()-this.lastAnimationBeginTime;this._config.enableContinuousEasing?this.particles.forEach(e=>this.updateParticleContinuous(e)):this.particles.forEach(t=>this.updateParticleEase(e,t)),this.renderer.render(this.particles)});this.isRendering||(this.isRendering=!0,t())}async generateParticles(e){throw Error("generateParticles need to be implemented")}enableMouseListener(){let e=e=>{this.mouseParticle||(this.mouseParticle=u.create(-100,-100,20,[255,255,255,255]));let t=this.canvas.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top;this.mouseParticle.updateNext(i,r),this.mouseParticle.update()},t=()=>{this.mouseParticle=null};this.canvas.addEventListener("mousemove",e),this.canvas.addEventListener("mouseleave",t),this.unBindMouseEventCallback=()=>{this.mouseParticle=null,this.canvas&&(this.canvas.removeEventListener("mousemove",e),this.canvas.removeEventListener("mouseleave",t))}}disableMouseListener(){this.unBindMouseEventCallback?.()}updateParticleEase(e,t){let i=c(e,this.animationTime,t.preX,t.nextX),r=c(e,this.animationTime,t.preY,t.nextY);t.update(i,r)}updateParticleContinuous(e){let t=(e.nextX-e.x)/this._config.moveProportionPerFrame,i=(e.nextY-e.y)/this._config.moveProportionPerFrame;if(this._config.showMouseCircle&&this.mouseParticle){let{x:r,y:o,r:n}=this.mouseParticle,s=function(e,t,i,r){let o=Math.abs(e-i),n=Math.abs(t-r);return Math.floor(Math.sqrt(o*o+n*n))}(r,o,e.x,e.y);if(s<n+10){let a=Math.atan2(e.y-o,e.x-r),c=2*(n/s);c=Math.max(1,c=Math.min(1e3,c));let l=Math.cos(a)*c,h=Math.sin(a)*c;t+=l,i+=h}}e.update(e.x+t,e.y+i)}}class w extends P{autoFit=!1;constructor(e,t){super(e,t),this.updateConfig(t)}updateConfig(e){this.autoFit=e.autoFit??this.autoFit}transitionTo(e,t=2e3,i={}){return this.updateConfig(i),super.transitionTo(e,t,i)}async generateParticles(e){let t=document.createElement("canvas"),{width:i,height:r}=this.canvas;t.width=i,t.height=r;let o=new Image,n=new Promise((e,t)=>{o.onload=t=>{e(t)},o.onerror=e=>{t(e)}});o.src=e,await n;let{width:s,height:a}=o,c=this._config,l=s,h=a,f=c.offsetX,p=c.offsetY;if(this.autoFit){let e=1;e=r<i?r/a:i/s;let t=Math.floor(s*e),o=Math.floor(a*e);f=Math.floor(Math.abs(i-t)/2),p=Math.floor(Math.abs(r-o)/2),l=t,h=o}let g=t.getContext("2d");g.drawImage(o,f,p,l,h);let d=g.getImageData(0,0,i,r);return u.from(d,c.particleGap,c.particleRadius,c.pixelFilter)}}function y(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let t=Array.from({length:7}).map((e,t)=>"/images/".concat(t+1,".webp")),i=new w(e.current,{source:"/images/1.webp",autoFit:!0,color:"#FFFFFF",particleGap:4,particleRadius:2,showMouseCircle:!0,enableContinuousEasing:!0,enableWebGL:!0,pixelFilter:(e,t,i,r)=>e<255&&t<255});i.render();let r=0,o=()=>{setTimeout(()=>{r=(r+1)%t.length,i.transitionTo(t[r]),o()},1e4)};o()},[]),(0,r.jsx)("div",{ref:e,className:s().container})}},1028:function(e){e.exports={container:"particle_container__0EqUr"}},7543:function(e,t,i){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=i(6439),o=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,i){var r,c={},l=null,h=null;for(r in void 0!==i&&(l=""+i),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(h=t.ref),t)n.call(t,r)&&!a.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:h,props:c,_owner:s.current}}},4357:function(e,t,i){"use strict";e.exports=i(7543)}},function(e){e.O(0,[191,431,744],function(){return e(e.s=1101)}),_N_E=e.O()}]);